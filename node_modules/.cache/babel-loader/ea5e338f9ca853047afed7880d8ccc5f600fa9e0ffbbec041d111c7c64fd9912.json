{"ast":null,"code":"import{useParams,Link}from\"react-router-dom\";import{useState,useEffect}from\"react\";import useMarvelService from\"../../services/MarvelService\";import setContent from\"../../utils/SetContent\";import{Fragment as _Fragment,jsx as _jsx}from\"react/jsx-runtime\";const SinglePage=_ref=>{let{Component,dataType}=_ref;/* вроде как это компонент высшего порядка */const{id}=useParams();const[data,setData]=useState(null);const{getComic,getCharacter,clearError,process,setProcess}=useMarvelService();useEffect(()=>{updateData();},[id]);const updateData=()=>{clearError();switch(dataType){case\"comic\":getComic(id).then(setData).then(()=>setProcess(\"confirmed\"));break;case\"character\":getCharacter(id).then(setData).then(()=>setProcess(\"confirmed\"));}};return/*#__PURE__*/_jsx(_Fragment,{children:setContent(process,Component,data)});};export default SinglePage;","map":{"version":3,"names":["useParams","Link","useState","useEffect","useMarvelService","setContent","Fragment","_Fragment","jsx","_jsx","SinglePage","_ref","Component","dataType","id","data","setData","getComic","getCharacter","clearError","process","setProcess","updateData","then","children"],"sources":["C:/Users/AMD Ryzen 5 2600/Desktop/Программирование/Новая папка/FrontEnd/MARVEL/MARVEL-main/src/components/pages/SinglePage.js"],"sourcesContent":["import { useParams, Link } from \"react-router-dom\";\r\nimport { useState, useEffect } from \"react\";\r\nimport useMarvelService from \"../../services/MarvelService\";\r\nimport setContent from \"../../utils/SetContent\";\r\n\r\nconst SinglePage = ({ Component, dataType }) => {\r\n  /* вроде как это компонент высшего порядка */\r\n  const { id } = useParams();\r\n  const [data, setData] = useState(null);\r\n\r\n  const { getComic, getCharacter, clearError, process, setProcess } =\r\n    useMarvelService();\r\n\r\n  useEffect(() => {\r\n    updateData();\r\n  }, [id]);\r\n\r\n  const updateData = () => {\r\n    clearError();\r\n\r\n    switch (dataType) {\r\n      case \"comic\":\r\n        getComic(id)\r\n          .then(setData)\r\n          .then(() => setProcess(\"confirmed\"));\r\n        break;\r\n      case \"character\":\r\n        getCharacter(id)\r\n          .then(setData)\r\n          .then(() => setProcess(\"confirmed\"));\r\n    }\r\n  };\r\n\r\n  return <>{setContent(process, Component, data)}</>;\r\n};\r\n\r\nexport default SinglePage;\r\n"],"mappings":"AAAA,OAASA,SAAS,CAAEC,IAAI,KAAQ,kBAAkB,CAClD,OAASC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,MAAO,CAAAC,gBAAgB,KAAM,8BAA8B,CAC3D,MAAO,CAAAC,UAAU,KAAM,wBAAwB,CAAC,OAAAC,QAAA,IAAAC,SAAA,CAAAC,GAAA,IAAAC,IAAA,yBAEhD,KAAM,CAAAC,UAAU,CAAGC,IAAA,EAA6B,IAA5B,CAAEC,SAAS,CAAEC,QAAS,CAAC,CAAAF,IAAA,CACzC,6CACA,KAAM,CAAEG,EAAG,CAAC,CAAGd,SAAS,CAAC,CAAC,CAC1B,KAAM,CAACe,IAAI,CAAEC,OAAO,CAAC,CAAGd,QAAQ,CAAC,IAAI,CAAC,CAEtC,KAAM,CAAEe,QAAQ,CAAEC,YAAY,CAAEC,UAAU,CAAEC,OAAO,CAAEC,UAAW,CAAC,CAC/DjB,gBAAgB,CAAC,CAAC,CAEpBD,SAAS,CAAC,IAAM,CACdmB,UAAU,CAAC,CAAC,CACd,CAAC,CAAE,CAACR,EAAE,CAAC,CAAC,CAER,KAAM,CAAAQ,UAAU,CAAGA,CAAA,GAAM,CACvBH,UAAU,CAAC,CAAC,CAEZ,OAAQN,QAAQ,EACd,IAAK,OAAO,CACVI,QAAQ,CAACH,EAAE,CAAC,CACTS,IAAI,CAACP,OAAO,CAAC,CACbO,IAAI,CAAC,IAAMF,UAAU,CAAC,WAAW,CAAC,CAAC,CACtC,MACF,IAAK,WAAW,CACdH,YAAY,CAACJ,EAAE,CAAC,CACbS,IAAI,CAACP,OAAO,CAAC,CACbO,IAAI,CAAC,IAAMF,UAAU,CAAC,WAAW,CAAC,CAAC,CAC1C,CACF,CAAC,CAED,mBAAOZ,IAAA,CAAAF,SAAA,EAAAiB,QAAA,CAAGnB,UAAU,CAACe,OAAO,CAAER,SAAS,CAAEG,IAAI,CAAC,CAAG,CAAC,CACpD,CAAC,CAED,cAAe,CAAAL,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}