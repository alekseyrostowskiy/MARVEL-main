{"ast":null,"code":"import{useHttp}from\"../hooks/http.hook\";const useMarvelService=()=>{const{request,clearError,process,setProcess}=useHttp();// берём сущности хука\nconst _apiBase=\"https://gateway.marvel.com:443/v1/public/\";// ЗДЕСЬ БУДЕТ ВАШ КЛЮЧ, ЭТОТ КЛЮЧ МОЖЕТ НЕ РАБОТАТЬ\nconst _apiKey=\"apikey=c5d6fc8b83116d92ed468ce36bac6c62\";const _baseOffset=210;const getAllCharacters=async function(){let offset=arguments.length>0&&arguments[0]!==undefined?arguments[0]:_baseOffset;const res=await request(\"\".concat(_apiBase,\"characters?limit=9&offset=\").concat(offset,\"&\").concat(_apiKey));return res.data.results.map(_transformCharacter);};const getAllComics=async function(){let offset=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;const res=await request(\"\".concat(_apiBase,\"comics?orderBy=issueNumber&limit=8&offset=\").concat(offset,\"&\").concat(_apiKey));return res.data.results.map(_transformComics);};const getCharacter=async id=>{const res=await request(\"\".concat(_apiBase,\"characters/\").concat(id,\"?\").concat(_apiKey));return _transformCharacter(res.data.results[0]);};const getComic=async id=>{const res=await request(\"\".concat(_apiBase,\"comics/\").concat(id,\"?\").concat(_apiKey));return _transformComics(res.data.results[0]);};const getCharacterByName=async name=>{const res=await request(\"\".concat(_apiBase,\"characters?name=\").concat(name,\"&\").concat(_apiKey));return res.data.results.map(_transformCharacter);};const _transformCharacter=char=>{return{id:char.id,name:char.name,description:char.description?\"\".concat(char.description.slice(0,210),\"...\"):\"There is no description for this character\",thumbnail:char.thumbnail.path+\".\"+char.thumbnail.extension,homepage:char.urls[0].url,wiki:char.urls[1].url,comics:char.comics.items};};const _transformComics=comics=>{return{id:comics.id,title:comics.title,description:comics.description||\"There is no description\",pageCount:comics.pageCount?\"\".concat(comics.pageCount,\" p.\"):\"No information about the number of pages\",thumbnail:comics.thumbnail.path+\".\"+comics.thumbnail.extension,language:comics.textObjects.language||\"en-us\",price:comics.prices.price?\"\".concat(comics.prices.price,\"$\"):\"not available\"};};return{process,setProcess,getAllCharacters,getCharacter,getCharacterByName,clearError,getAllComics,getComic};};export default useMarvelService;","map":{"version":3,"names":["useHttp","useMarvelService","request","clearError","process","setProcess","_apiBase","_apiKey","_baseOffset","getAllCharacters","offset","arguments","length","undefined","res","concat","data","results","map","_transformCharacter","getAllComics","_transformComics","getCharacter","id","getComic","getCharacterByName","name","char","description","slice","thumbnail","path","extension","homepage","urls","url","wiki","comics","items","title","pageCount","language","textObjects","price","prices"],"sources":["C:/Users/AMD Ryzen 5 2600/Desktop/Программирование/Новая папка/FrontEnd/MARVEL/MARVEL-main/src/services/MarvelService.js"],"sourcesContent":["import { useHttp } from \"../hooks/http.hook\";\r\n\r\nconst useMarvelService = () => {\r\n  const { request, clearError, process, setProcess } = useHttp(); // берём сущности хука\r\n\r\n  const _apiBase = \"https://gateway.marvel.com:443/v1/public/\";\r\n  // ЗДЕСЬ БУДЕТ ВАШ КЛЮЧ, ЭТОТ КЛЮЧ МОЖЕТ НЕ РАБОТАТЬ\r\n  const _apiKey = \"apikey=c5d6fc8b83116d92ed468ce36bac6c62\";\r\n  const _baseOffset = 210;\r\n\r\n  const getAllCharacters = async (offset = _baseOffset) => {\r\n    const res = await request(\r\n      `${_apiBase}characters?limit=9&offset=${offset}&${_apiKey}`\r\n    );\r\n    return res.data.results.map(_transformCharacter);\r\n  };\r\n\r\n  const getAllComics = async (offset = 0) => {\r\n    const res = await request(\r\n      `${_apiBase}comics?orderBy=issueNumber&limit=8&offset=${offset}&${_apiKey}`\r\n    );\r\n    return res.data.results.map(_transformComics);\r\n  };\r\n\r\n  const getCharacter = async (id) => {\r\n    const res = await request(`${_apiBase}characters/${id}?${_apiKey}`);\r\n    return _transformCharacter(res.data.results[0]);\r\n  };\r\n\r\n  const getComic = async (id) => {\r\n    const res = await request(`${_apiBase}comics/${id}?${_apiKey}`);\r\n    return _transformComics(res.data.results[0]);\r\n  };\r\n\r\n  const getCharacterByName = async (name) => {\r\n    const res = await request(`${_apiBase}characters?name=${name}&${_apiKey}`);\r\n    return res.data.results.map(_transformCharacter);\r\n  };\r\n\r\n  const _transformCharacter = (char) => {\r\n    return {\r\n      id: char.id,\r\n      name: char.name,\r\n      description: char.description\r\n        ? `${char.description.slice(0, 210)}...`\r\n        : \"There is no description for this character\",\r\n      thumbnail: char.thumbnail.path + \".\" + char.thumbnail.extension,\r\n      homepage: char.urls[0].url,\r\n      wiki: char.urls[1].url,\r\n      comics: char.comics.items,\r\n    };\r\n  };\r\n\r\n  const _transformComics = (comics) => {\r\n    return {\r\n      id: comics.id,\r\n      title: comics.title,\r\n      description: comics.description || \"There is no description\",\r\n      pageCount: comics.pageCount\r\n        ? `${comics.pageCount} p.`\r\n        : \"No information about the number of pages\",\r\n      thumbnail: comics.thumbnail.path + \".\" + comics.thumbnail.extension,\r\n      language: comics.textObjects.language || \"en-us\",\r\n      price: comics.prices.price ? `${comics.prices.price}$` : \"not available\",\r\n    };\r\n  };\r\n\r\n  return {\r\n    process,\r\n    setProcess,\r\n    getAllCharacters,\r\n    getCharacter,\r\n    getCharacterByName,\r\n    clearError,\r\n    getAllComics,\r\n    getComic,\r\n  };\r\n};\r\n\r\nexport default useMarvelService;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}