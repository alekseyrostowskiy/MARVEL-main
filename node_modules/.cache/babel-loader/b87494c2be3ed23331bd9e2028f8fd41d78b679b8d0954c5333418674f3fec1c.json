{"ast":null,"code":"import{useEffect,useState}from'react';import useMarvelService from'../../services/MarvelService';import setContent from'../../utils/SetContent';import mjolnir from'../../resources/img/mjolnir.png';import'./randomChar.scss';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const RandomChar=_ref=>{let{setShow}=_ref;const[char,setChar]=useState(null);const{getCharacter,clearError,process,setProcess}=useMarvelService();useEffect(()=>{updateChar();const timerId=setInterval(updateChar,60000);return()=>{clearInterval(timerId);};},[]);const onCharLoaded=char=>{setChar(char);setShow(true);};const updateChar=()=>{clearError();const id=Math.floor(Math.random()*(1011400-1011000))+1011000;getCharacter(id).then(onCharLoaded).then(()=>setProcess('confirmed'));};return/*#__PURE__*/_jsxs(\"div\",{className:\"randomchar\",children:[setContent(process,View,char),/*#__PURE__*/_jsxs(\"div\",{className:\"randomchar__static\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"randomchar__title\",children:[\"Random character for today!\",/*#__PURE__*/_jsx(\"br\",{}),\"Do you want to get to know him better?\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"randomchar__title\",children:\"Or choose another one\"}),/*#__PURE__*/_jsx(\"button\",{onClick:updateChar,className:\"button button__main\",children:/*#__PURE__*/_jsx(\"div\",{className:\"inner\",children:\"try it\"})}),/*#__PURE__*/_jsx(\"img\",{src:mjolnir,alt:\"mjolnir\",className:\"randomchar__decoration\"})]})]});};const View=_ref2=>{let{data}=_ref2;const{name,description,thumbnail,homepage,wiki}=data;let imgStyle={objectFit:'cover'};if(thumbnail==='http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg'){imgStyle={objectFit:'contain'};}return/*#__PURE__*/_jsxs(\"div\",{className:\"randomchar__block\",children:[/*#__PURE__*/_jsx(\"img\",{src:thumbnail,alt:\"Random character\",className:\"randomchar__img\",style:imgStyle}),/*#__PURE__*/_jsxs(\"div\",{className:\"randomchar__info\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"randomchar__name\",children:name}),/*#__PURE__*/_jsx(\"p\",{className:\"randomchar__descr\",children:description}),/*#__PURE__*/_jsxs(\"div\",{className:\"randomchar__btns\",children:[/*#__PURE__*/_jsx(\"a\",{className:\"button button__main\",children:/*#__PURE__*/_jsx(\"div\",{className:\"inner\",children:\"homepage\"})}),/*#__PURE__*/_jsx(\"a\",{className:\"button button__secondary\",children:/*#__PURE__*/_jsx(\"div\",{className:\"inner\",children:\"Wiki\"})})]})]})]});};export default RandomChar;","map":{"version":3,"names":["useEffect","useState","useMarvelService","setContent","mjolnir","jsx","_jsx","jsxs","_jsxs","RandomChar","_ref","setShow","char","setChar","getCharacter","clearError","process","setProcess","updateChar","timerId","setInterval","clearInterval","onCharLoaded","id","Math","floor","random","then","className","children","View","onClick","src","alt","_ref2","data","name","description","thumbnail","homepage","wiki","imgStyle","objectFit","style"],"sources":["C:/Users/AMD Ryzen 5 2600/Desktop/Программирование/Новая папка/FrontEnd/MARVEL/MARVEL-main/src/components/randomChar/RandomChar.js"],"sourcesContent":["import { useEffect, useState } from 'react'\nimport useMarvelService from '../../services/MarvelService'\nimport setContent from '../../utils/SetContent'\n\nimport mjolnir from '../../resources/img/mjolnir.png'\nimport './randomChar.scss'\n\nconst RandomChar = ({ setShow }) => {\n\tconst [char, setChar] = useState(null)\n\n\tconst { getCharacter, clearError, process, setProcess } = useMarvelService()\n\n\tuseEffect(() => {\n\t\tupdateChar()\n\t\tconst timerId = setInterval(updateChar, 60000)\n\n\t\treturn () => {\n\t\t\tclearInterval(timerId)\n\t\t}\n\t}, [])\n\n\tconst onCharLoaded = char => {\n\t\tsetChar(char)\n\t\tsetShow(true)\n\t}\n\n\tconst updateChar = () => {\n\t\tclearError()\n\t\tconst id = Math.floor(Math.random() * (1011400 - 1011000)) + 1011000\n\t\tgetCharacter(id)\n\t\t\t.then(onCharLoaded)\n\t\t\t.then(() => setProcess('confirmed'))\n\t}\n\n\treturn (\n\t\t<div className='randomchar'>\n\t\t\t{setContent(process, View, char)}\n\t\t\t<div className='randomchar__static'>\n\t\t\t\t<p className='randomchar__title'>\n\t\t\t\t\tRandom character for today!\n\t\t\t\t\t<br />\n\t\t\t\t\tDo you want to get to know him better?\n\t\t\t\t</p>\n\t\t\t\t<p className='randomchar__title'>Or choose another one</p>\n\t\t\t\t<button onClick={updateChar} className='button button__main'>\n\t\t\t\t\t<div className='inner'>try it</div>\n\t\t\t\t</button>\n\t\t\t\t<img src={mjolnir} alt='mjolnir' className='randomchar__decoration' />\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nconst View = ({ data }) => {\n\tconst { name, description, thumbnail, homepage, wiki } = data\n\tlet imgStyle = { objectFit: 'cover' }\n\tif (\n\t\tthumbnail ===\n\t\t'http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg'\n\t) {\n\t\timgStyle = { objectFit: 'contain' }\n\t}\n\n\treturn (\n\t\t<div className='randomchar__block'>\n\t\t\t<img\n\t\t\t\tsrc={thumbnail}\n\t\t\t\talt='Random character'\n\t\t\t\tclassName='randomchar__img'\n\t\t\t\tstyle={imgStyle}\n\t\t\t/>\n\t\t\t<div className='randomchar__info'>\n\t\t\t\t<p className='randomchar__name'>{name}</p>\n\t\t\t\t<p className='randomchar__descr'>{description}</p>\n\t\t\t\t<div className='randomchar__btns'>\n\t\t\t\t\t<a className='button button__main'>\n\t\t\t\t\t\t<div className='inner'>homepage</div>\n\t\t\t\t\t</a>\n\t\t\t\t\t<a className='button button__secondary'>\n\t\t\t\t\t\t<div className='inner'>Wiki</div>\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default RandomChar\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}